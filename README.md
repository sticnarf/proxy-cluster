# proxy-cluster

本项目计划提供一系列工具，以方便地构建一个代理服务器集群。

## 目的

1. 用户同时连接到代理集群的多个可用服务器
    
    * 高可用，避免个别服务器宕机的影响

    * 解决单台服务器上行带宽小的问题

2. 对于同一个用户，出口的服务器相对固定

    * 出口 IP 频繁变化会给用户使用带来许多问题

## 架构

目前考虑将集群设计为去中心化的，于是计划提供的只有一般的服务器端和客户端，不设集群的主节点。

### 服务器端

* 维护集群可用节点列表

* 接收客户端请求

* 将客户端请求转发至对应出口节点

* 作为出口节点处理请求

* 负载均衡

### 客户端

* 连接任一节点后即可获取可用节点列表

* 向集群发出请求

* 从集群接收请求响应

## 关注点

* 安全性

* 负载均衡实现方式

    * 一个 TCP 连接只由一个集群节点负责响应 （较简单，但无法在单个 TCP 连接上叠加带宽）

    * 一个 TCP 连接的响应可接受自多个集群节点 （可以在单个 TCP 连接上叠加带宽，可参考 KCP？）